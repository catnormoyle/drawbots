<!DOCTYPE html>
<html>
<head>
<title>{{ title }}</title>
<script>
  window.onload = function() {
    var image = document.getElementById("camimg");

    image.src = "http://192.168.1.46:9080/html/cam_pic.php";

    function updateImage() {
        image.src = image.src.split("?")[0] + "?" + new Date().getTime();
    }

    setInterval(updateImage, 100);
}
</script>
</head>

<body style="background-color:lightgrey">
  <h1>Rover 5 Control Panel</h1>
  <h2>The date and time on the server is: {{ time }}</h2> 
   
   <!-- Ignore Google Hangout functionality for now --> 
   <!-- <script src="https://apis.google.com/js/platform.js" async defer></script>
   <g:hangout render="createhangout"></g:hangout> -->
      
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   <!-- Directional navigation, add mapping to keyboard arrows next iteration --> 
   <button onclick="goForward();"> Forward </button>
   <br>
   <button onclick="goLeft();"> Left </button>      &nbsp;
   <button onclick="goStop();"> Stop </button>
   &nbsp;
   <button onclick="goRight();"> Right </button>
   <br>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   <button onclick="goBackward();"> Back </button>
   <br><br>

   <!-- Make Ajax calls from button clicks to trigger Flask / python code from serveJohnnyPive.py and send commands to robot -->      
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
   <script>           
 
	 function goForward() {
    	 $.ajax({url:"/forward/"});
	 } 
	 function goBackward() {
    	 $.ajax({url:"/backward/"});
	 }   
	 function goStop() {
    	 $.ajax({url:"/stop/"});
	 }  	   
	 function goDown() {
    	 $.ajax({url:"/down/"});
	 } 
	 function goLeft() {
    	 $.ajax({url:"/left/"});
	 }  
	 function goRight() {
    	 $.ajax({url:"/right/"});
	 }  	 	 	 
   </script>          
   <img id="camimg" width="800" height="460", style="background:black;">
   <br>

   <br><br>
   </body>
</html>

